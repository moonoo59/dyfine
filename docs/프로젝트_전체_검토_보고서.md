# Dyfine ì „ì²´ í”„ë¡œì íŠ¸ ê²€í†  ë³´ê³ ì„œ

> **[Reviewer] ì‹œë‹ˆì–´ ì½”ë“œ ë¦¬ë·°ì–´ + [Scribe] í…Œí¬ë‹ˆì»¬ ë¼ì´í„° í•©ë™ ë³´ê³ **
> ì‘ì„±ì¼: 2026-02-27 | ë²„ì „: v1.5 (Phase 1 MVP + Phase 1.5 í”¼ë“œë°± ë°˜ì˜)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| í”„ë¡œì íŠ¸ëª… | Dyfine â€” ê°€ì •ìš© ìê¸ˆ ìš´ì˜ ì„œë¹„ìŠ¤ |
| ëª©ì  | ìˆ˜ë™ í†µì œ ê¸°ë°˜ì˜ ë³µì‹ë¶€ê¸° ê°€ê³„ë¶€ (ì…ë ¥ ìµœì†Œí™”, ì˜ì‚¬ê²°ì • ìµœëŒ€í™”) |
| ê¸°ìˆ  ìŠ¤íƒ | React 18 + TypeScript + Vite + Tailwind CSS v4 + Zustand + Supabase |
| ë°°í¬ íƒ€ê²Ÿ | Cloudflare Pages (ì˜ˆì •) |
| ì¸ì¦ | Supabase Auth (Email/Password) |
| DB | Supabase PostgreSQL + RLS |
| ìƒíƒœê´€ë¦¬ | Zustand (authStore) + React Query (ì„œë²„ ìƒíƒœ) |

---

## 2. ì‹œìŠ¤í…œ êµ¬ì¡°ë„

```mermaid
graph TB
    subgraph "Frontend (Vite + React)"
        App[App.tsx<br/>ë¼ìš°íŒ…/ì¸ì¦ ê°€ë“œ]
        Layout[AppLayout<br/>GNB + ì„¤ì • ë“œë¡­ë‹¤ìš´]
        
        subgraph "Pages"
            Login[LoginPage]
            Onboard[OnboardingPage]
            Dash[DashboardPage]
            Txn[TransactionsPage]
            Acc[AccountsPage]
            Cat[CategoriesPage]
            Xfr[TransfersPage]
            Bgt[BudgetsPage]
        end
        
        subgraph "Shared"
            CurrInput[CurrencyInput]
            PieChart[ExpensePieChart]
            BarChart[ExpenseBarChart]
            RecentList[RecentTransactionsList]
        end
        
        subgraph "State"
            AuthStore[authStore<br/>Zustand]
            RQ[React Query<br/>useAccounts / useCategories]
        end
    end
    
    subgraph "Backend (Supabase)"
        Auth[Supabase Auth]
        DB[(PostgreSQL)]
        RLS[RLS Policies]
        RPC[RPC Functions]
    end
    
    App --> Layout --> Pages
    Pages --> Shared
    Pages --> State
    State --> Auth
    State --> DB
    DB --> RLS
    DB --> RPC
```

---

## 3. íŒŒì¼ íŠ¸ë¦¬ ë° ì—­í• 

```
src/
â”œâ”€â”€ App.tsx                          # ë¼ìš°íŒ…, ì¸ì¦ ê°€ë“œ, ì˜¨ë³´ë”© í”Œë¡œìš°
â”œâ”€â”€ main.tsx                         # ì§„ì…ì  (AuthProvider + React Query)
â”œâ”€â”€ index.css                        # Tailwind v4 ì„í¬íŠ¸ + ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”œâ”€â”€ store/
â”‚   â””â”€â”€ authStore.ts                 # Zustand: user, session, householdId ê´€ë¦¬
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabase/client.ts           # Supabase í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤
â”œâ”€â”€ hooks/queries/
â”‚   â”œâ”€â”€ useAccounts.ts               # ê³„ì¢Œ ëª©ë¡ React Query ìºì‹œ (30ë¶„)
â”‚   â””â”€â”€ useCategories.ts             # ì¹´í…Œê³ ë¦¬ ëª©ë¡ React Query ìºì‹œ (30ë¶„)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/AppLayout.tsx         # GNB + ì„¤ì • ë“œë¡­ë‹¤ìš´ + ëª¨ë°”ì¼ ë©”ë‰´
â”‚   â”œâ”€â”€ ui/CurrencyInput.tsx         # â‚© ì½¤ë§ˆ ìë™ í¬ë§·íŒ… ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ ExpensePieChart.tsx       # Recharts íŒŒì´ ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ ExpenseBarChart.tsx       # Recharts ë§‰ëŒ€ ì°¨íŠ¸
â”‚   â”‚   â””â”€â”€ RecentTransactionsList.tsx # ìµœê·¼ ê±°ë˜ 5ê±´ ë¦¬ìŠ¤íŠ¸
â”‚   â””â”€â”€ providers/AuthProvider.tsx   # ì¸ì¦ ìƒíƒœ ì´ˆê¸°í™” Provider
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ auth/LoginPage.tsx           # ë¡œê·¸ì¸/íšŒì›ê°€ì… (Email+PW)
â”‚   â”œâ”€â”€ onboarding/OnboardingPage.tsx # ê°€êµ¬(Household) ìƒì„± (RPC)
â”‚   â”œâ”€â”€ dashboard/DashboardPage.tsx  # ì´ìì‚° Â· ìˆ˜ì… Â· ì§€ì¶œ + ì°¨íŠ¸ + ìµœê·¼ê±°ë˜
â”‚   â”œâ”€â”€ transactions/TransactionsPage.tsx # ë³µì‹ë¶€ê¸° ì „í‘œ CRUD + L1â†’L2 ì¹´í…Œê³ ë¦¬
â”‚   â”œâ”€â”€ accounts/AccountsPage.tsx    # ê³„ì¢Œ ê´€ë¦¬ (6ìœ í˜• + ì€í–‰/ë²ˆí˜¸/ì˜ˆê¸ˆì£¼)
â”‚   â”œâ”€â”€ settings/CategoriesPage.tsx  # ì¹´í…Œê³ ë¦¬ L1/L2 + ì§€ì¶œ/ìˆ˜ì…/ê³µí†µ ìœ í˜•
â”‚   â”œâ”€â”€ transfers/TransfersPage.tsx  # ìë™ì´ì²´ ê·œì¹™ + ëŒ€ê¸° ì¸ìŠ¤í„´ìŠ¤ í™•ì •
â”‚   â””â”€â”€ budgets/BudgetsPage.tsx      # ì›”ë³„ ì˜ˆì‚° vs ì‹¤ì  ë¹„êµ

supabase/migrations/
â”œâ”€â”€ 0001_initial_schema.sql          # households, accounts, categories, tags, profiles
â”œâ”€â”€ 0002_transaction_schema.sql      # entries, lines, auto_transfers, budgets, closings
â”œâ”€â”€ 0003_phase2_loans_investments.sql # ëŒ€ì¶œ/íˆ¬ì (Phase 2 ì˜ˆì•½)
â”œâ”€â”€ 0004_rpc_create_transaction.sql  # ë³µì‹ë¶€ê¸° ì „í‘œ ìƒì„± RPC
â”œâ”€â”€ 0005_rls_policies.sql            # RLS ì •ì±… ì •ì˜
â”œâ”€â”€ 0006_fix_rls_patch.sql           # RLS ì¬ì„¤ì • + create_household_with_owner RPC
â”œâ”€â”€ 0007_add_account_fields.sql      # ì€í–‰ëª…, ê³„ì¢Œë²ˆí˜¸, ì˜ˆê¸ˆì£¼ ì»¬ëŸ¼ ì¶”ê°€
â””â”€â”€ 0008_add_category_type.sql       # category_type ì»¬ëŸ¼ ì¶”ê°€
```

---

## 4. DB ìŠ¤í‚¤ë§ˆ (ERD ìš”ì•½)

```mermaid
erDiagram
    households ||--o{ household_members : "has"
    households ||--o{ accounts : "owns"
    households ||--o{ categories : "defines"
    households ||--o{ transaction_entries : "records"
    households ||--o{ auto_transfer_rules : "schedules"
    households ||--o{ budget_templates : "plans"
    
    accounts ||--o{ transaction_lines : "debited/credited"
    transaction_entries ||--o{ transaction_lines : "contains"
    transaction_entries }o--|| categories : "classified by"
    categories ||--o{ categories : "parent-child"
    
    auto_transfer_rules ||--o{ auto_transfer_instances : "generates"
    budget_templates ||--o{ budget_template_lines : "allocates"
    budget_template_lines }o--|| categories : "targets"
```

| í…Œì´ë¸” | ì—­í•  | RLS |
|--------|------|-----|
| `households` | ê°€êµ¬ ë‹¨ìœ„ ê²©ë¦¬ | âœ… |
| `household_members` | ê°€êµ¬ êµ¬ì„±ì› (owner/member) | âœ… |
| `accounts` | ê³„ì¢Œ (6ìœ í˜• + ì€í–‰/ë²ˆí˜¸/ì˜ˆê¸ˆì£¼) | âœ… |
| `categories` | ë¶„ë¥˜ (L1/L2 + income/expense/both) | âœ… |
| `transaction_entries` | ë³µì‹ë¶€ê¸° ì „í‘œ í—¤ë” | âœ… |
| `transaction_lines` | ì „í‘œ ì°¨ë³€/ëŒ€ë³€ ë¼ì¸ | âœ… |
| `auto_transfer_rules` | ìë™ì´ì²´ ê·œì¹™ | âœ… |
| `auto_transfer_instances` | ì´ì²´ ì‹¤í–‰ ì¸ìŠ¤í„´ìŠ¤ | âœ… |
| `budget_templates` | ì˜ˆì‚° í…œí”Œë¦¿ | - |
| `budget_template_lines` | ì¹´í…Œê³ ë¦¬ë³„ ì›” ì˜ˆì‚° ë°°ì • | - |
| `budget_month_overrides` | ì›”ë³„ ì˜ˆì‚° ì˜¤ë²„ë¼ì´ë“œ | - |
| `month_closings` | ì›” ë§ˆê° ê¸°ë¡ | âœ… |

---

## 5. ê¸°ëŠ¥ í˜„í™©í‘œ

| ê¸°ëŠ¥ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ì´ë©”ì¼ ë¡œê·¸ì¸/íšŒì›ê°€ì… | âœ… ì™„ë£Œ | Supabase Auth |
| ê°€êµ¬(Household) ìƒì„± | âœ… ì™„ë£Œ | RPC `create_household_with_owner` |
| ê³„ì¢Œ CRUD | âœ… ì™„ë£Œ | 6ìœ í˜• + ì€í–‰/ê³„ì¢Œë²ˆí˜¸/ì˜ˆê¸ˆì£¼ |
| ì¹´í…Œê³ ë¦¬ L1/L2 ê´€ë¦¬ | âœ… ì™„ë£Œ | ì§€ì¶œ/ìˆ˜ì…/ê³µí†µ ìœ í˜• ë¶„ë¦¬ |
| ë³µì‹ë¶€ê¸° ê±°ë˜ ì…ë ¥ | âœ… ì™„ë£Œ | RPC ê¸°ë°˜ íŠ¸ëœì­ì…˜ |
| L1â†’L2 ìºìŠ¤ì¼€ì´ë“œ ì„ íƒ | âœ… ì™„ë£Œ | Phase 1.5 |
| ëŒ€ì‹œë³´ë“œ (ìš”ì•½/ì°¨íŠ¸) | âœ… ì™„ë£Œ | íŒŒì´+ë§‰ëŒ€ ì°¨íŠ¸ (Recharts) |
| ìë™ì´ì²´ ê·œì¹™/í™•ì • | âœ… ì™„ë£Œ | ìˆ˜ë™ í™•ì • ë°©ì‹ |
| ì˜ˆì‚° ì„¤ì •/ë¹„êµ | âœ… ì™„ë£Œ | ì›”ë³„ ì„ íƒê¸° í¬í•¨ |
| ê¸ˆì•¡ ì½¤ë§ˆ í¬ë§·íŒ… | âœ… ì™„ë£Œ | `CurrencyInput` ê³µí†µ ì»´í¬ë„ŒíŠ¸ |
| ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì • ë©”ë‰´ | âœ… ì™„ë£Œ | ë“œë¡­ë‹¤ìš´ êµ¬ì¡° |
| íƒœê·¸(Tag) ê´€ë¦¬ | â¬œ ë¯¸êµ¬í˜„ | DB ìŠ¤í‚¤ë§ˆë§Œ ì¡´ì¬ |
| CSV ê°€ì ¸ì˜¤ê¸° | â¬œ ë¯¸êµ¬í˜„ | DB ìŠ¤í‚¤ë§ˆë§Œ ì¡´ì¬ |
| ì›” ë§ˆê°(Lock) | â¬œ ë¯¸êµ¬í˜„ | DB ìŠ¤í‚¤ë§ˆë§Œ ì¡´ì¬ |
| ëŒ€ì¶œ ì‹œìŠ¤í…œ | â¬œ Phase 2 | ìŠ¤í‚¤ë§ˆ ì¤€ë¹„ë¨ |
| íˆ¬ì ì‹œìŠ¤í…œ | â¬œ Phase 2 | ìŠ¤í‚¤ë§ˆ ì¤€ë¹„ë¨ |

---

## 6. [Reviewer] ì „ì²´ ì½”ë“œ ë¦¬ë·°

### 6-1. ğŸ”´ Critical (ì¦‰ì‹œ ìˆ˜ì • í•„ìš”)

| # | ìœ„ì¹˜ | ë¬¸ì œ | ì˜í–¥ë„ |
|---|------|------|--------|
| C-1 | `AccountsPage.tsx` | ê¸°ì¡´ `bank` íƒ€ì… ê³„ì¢Œì˜ ë¼ë²¨ì´ ê¹¨ì§ (`getAccountTypeLabel`ì—ì„œ `bank` â†’ `default` ë¶„ê¸° ì²˜ë¦¬) | **ë°ì´í„° í‘œì‹œ ì˜¤ë¥˜** |
| C-2 | `BudgetsPage.tsx` | `useEffect` ì˜ì¡´ì„±ì— `householdId` ëˆ„ë½ â€” ë¡œê·¸ì¸ ì§í›„ `householdId`ê°€ ëŠ¦ê²Œ ì„¸íŒ…ë˜ë©´ ë°ì´í„° ë¯¸ë¡œë“œ | **ê¸°ëŠ¥ ë¯¸ë™ì‘** |
| C-3 | `DashboardPage.tsx` | ë™ì¼ ì´ìŠˆ: `useEffect([user])` ì˜ì¡´ì„±ì— `householdId` ëˆ„ë½ | **ê¸°ëŠ¥ ë¯¸ë™ì‘** |
| C-4 | `TransfersPage.tsx` | ë™ì¼ ì´ìŠˆ: `useEffect([user])` ì˜ì¡´ì„±ì— `householdId` ëˆ„ë½ | **ê¸°ëŠ¥ ë¯¸ë™ì‘** |
| C-5 | `AppLayout.tsx` | ì„¤ì • ë“œë¡­ë‹¤ìš´ ì˜¤ë²„ë ˆì´ `z-10`ì´ ë„¤ë¹„ ì „ì²´ë¥¼ ì°¨ë‹¨, ë‹¤ë¥¸ ë©”ë‰´ í´ë¦­ ë¶ˆê°€ | **UX ì°¨ë‹¨** |
| C-6 | `TransfersPage.tsx :128-179` | `confirmInstance` í•¨ìˆ˜ì—ì„œ Entry ìƒì„± + Lines ìƒì„±ì´ **ë³„ë„ ì¿¼ë¦¬ë¡œ ë¶„ë¦¬**ë¨ â†’ Entryë§Œ ìƒì„±ë˜ê³  Lines ì‹¤íŒ¨ ì‹œ ê³ ì•„ ì „í‘œ ë°œìƒ | **ë°ì´í„° ë¬´ê²°ì„±** |

### 6-2. ğŸŸ¡ Optimization (ê°œì„  ê¶Œì¥)

| # | ìœ„ì¹˜ | ì œì•ˆ |
|---|------|------|
| O-1 | `BudgetsPage.tsx` | `const now = new Date()` ë§¤ ë Œë”ë§ˆë‹¤ ì¬ìƒì„± â†’ `useMemo` ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ ìƒìˆ˜ |
| O-2 | `CategoriesPage.tsx` | ì†Œë¶„ë¥˜ ìƒì„± ì‹œ `category_type`ì„ ë¶€ëª¨ì™€ ë³„ë„ ì„ íƒ ê°€ëŠ¥ â†’ ëŒ€ë¶„ë¥˜=ì§€ì¶œì¸ë° ì†Œë¶„ë¥˜=ìˆ˜ì… ëª¨ìˆœ í—ˆìš©ë¨ |
| O-3 | `DashboardPage.tsx` | `any[]` íƒ€ì… 3êµ°ë° ì‚¬ìš© (`expenseByCategory`, `recentTransactions`) â†’ íƒ€ì… ì•ˆì „ì„± ì—†ìŒ |
| O-4 | `TransfersPage.tsx` | ê¸ˆì•¡ ì…ë ¥ì´ ì•„ì§ `type="number"` â†’ `CurrencyInput` ë¯¸ì ìš© (ì¼ê´€ì„± ë¶€ì¡±) |
| O-5 | ì „ì²´ í˜ì´ì§€ | ì—ëŸ¬ ë°œìƒ ì‹œ `alert()` ì‚¬ìš© â†’ UXê°€ ê±°ì¹ ìŒ, Toast ì•Œë¦¼ìœ¼ë¡œ êµì²´ ê¶Œì¥ |
| O-6 | `useAccounts.ts`, `useCategories.ts` | staleTime 30ë¶„ì´ì§€ë§Œ ë°ì´í„° ë³€ê²½ í›„ `invalidateQueries`ë¥¼ ì¼ë¶€ í˜ì´ì§€ì—ì„œ ëˆ„ë½ |
| O-7 | `0001_initial_schema.sql` | `accounts.account_type` CHECK ì œì•½ì´ ì›ë³¸ê³¼ `0007` íŒ¨ì¹˜ì—ì„œ ì´ì¤‘ ì •ì˜ â†’ ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ ì£¼ì˜ |
| O-8 | `CurrencyInput.tsx` | `value=0`ì¼ ë•Œ ë¹ˆ ë¬¸ìì—´ë¡œ í‘œì‹œ â†’ ì‚¬ìš©ìê°€ ì´ˆê¸°ì”ì•¡ 0ì„ ì˜ë„í•˜ëŠ” ê²½ìš° í˜¼ë™ ê°€ëŠ¥ |

### 6-3. ğŸ’¡ Architecture Notes

| í•­ëª© | í˜„ì¬ ìƒíƒœ | ê°œì„  ë°©í–¥ |
|------|-----------|----------|
| API í˜¸ì¶œ íŒ¨í„´ | í˜ì´ì§€ë§ˆë‹¤ ì§ì ‘ `supabase.from()` í˜¸ì¶œ | ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬ (useTransactions, useBudgets ë“±) |
| ì—ëŸ¬ í•¸ë“¤ë§ | `alert()` + `console.error` | ê¸€ë¡œë²Œ ì—ëŸ¬ ë°”ìš´ë”ë¦¬ + Toast UI |
| íƒ€ì… ì•ˆì „ì„± | `any` íƒ€ì… ë‹¤ìˆ˜, ì¸í„°í˜ì´ìŠ¤ í˜ì´ì§€ ë‚´ ì„ ì–¸ | ê³µí†µ `types/` ë””ë ‰í† ë¦¬ë¡œ ë¶„ë¦¬ |
| ë³µì‹ë¶€ê¸° ë¬´ê²°ì„± | RPCë¡œ Entry+Lines ì›ìì  ì²˜ë¦¬ (ê±°ë˜ OK) | ìë™ì´ì²´ í™•ì •ì€ RPC ë¯¸ì‚¬ìš© â†’ ì›ìì„± ë¯¸ë³´ì¥ |
| ëª¨ë‹¬ íŒ¨í„´ | ê° í˜ì´ì§€ì— ì¸ë¼ì¸ ëª¨ë‹¬ ì½”ë“œ ë°˜ë³µ | `Modal` ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ |
| ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ | Recharts (ResponsiveContainer) | ì ì ˆí•œ ì„ íƒ, ìœ ì§€ |

---

## 7. ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ë ¥

| íŒŒì¼ | ëª©ì  | ì‹¤í–‰ ì—¬ë¶€ |
|------|------|----------|
| `0001_initial_schema.sql` | ê¸°ì´ˆ í…Œì´ë¸” + RLS í™œì„±í™” | âœ… ì‹¤í–‰ë¨ |
| `0002_transaction_schema.sql` | ê±°ë˜/ì˜ˆì‚°/ìë™ì´ì²´/ë§ˆê° í…Œì´ë¸” | âœ… ì‹¤í–‰ë¨ |
| `0003_phase2_loans_investments.sql` | ëŒ€ì¶œ/íˆ¬ì í…Œì´ë¸” (Phase 2) | âœ… ì‹¤í–‰ë¨ |
| `0004_rpc_create_transaction.sql` | ë³µì‹ë¶€ê¸° ì „í‘œ ìƒì„± RPC | âœ… ì‹¤í–‰ë¨ |
| `0005_rls_policies.sql` | RLS ì •ì±… ì •ì˜ | âœ… ì‹¤í–‰ë¨ |
| `0006_fix_rls_patch.sql` | RLS ì¬ì„¤ì • + ê°€êµ¬ ìƒì„± RPC | âœ… ì‹¤í–‰ë¨ |
| `0007_add_account_fields.sql` | ê³„ì¢Œ í•„ë“œ í™•ì¥ | âš ï¸ **ì‹¤í–‰ í•„ìš”** |
| `0008_add_category_type.sql` | ì¹´í…Œê³ ë¦¬ ìœ í˜• ì»¬ëŸ¼ | âš ï¸ **ì‹¤í–‰ í•„ìš”** |

---

## 8. ë²„ì „ ë³€ê²½ ì´ë ¥ (Changelog)

### v1.5 â€” Phase 1.5 ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜ (2026-02-27)
- **E-08**: ë„¤ë¹„ê²Œì´ì…˜ ì¬êµ¬ì„± (ì„¤ì • ë“œë¡­ë‹¤ìš´ ë©”ë‰´)
- **E-01/E-04**: ê³„ì¢Œ í•„ë“œ í™•ì¥ (ì€í–‰ëª…, ê³„ì¢Œë²ˆí˜¸, ì˜ˆê¸ˆì£¼) + 6ì¢… ìœ í˜•
- **E-05**: ê±°ë˜ ì…ë ¥ ì‹œ L1â†’L2 ìºìŠ¤ì¼€ì´ë“œ ì¹´í…Œê³ ë¦¬ ì„ íƒ
- **E-09**: ì¹´í…Œê³ ë¦¬ ì§€ì¶œ/ìˆ˜ì…/ê³µí†µ ìœ í˜• ë¶„ë¦¬
- **E-10**: `CurrencyInput` ê³µí†µ ì»´í¬ë„ŒíŠ¸ (â‚© ì½¤ë§ˆ ìë™ í¬ë§·íŒ…)
- **E-14**: ì˜ˆì‚° í˜ì´ì§€ ì›”ë³„ ì„ íƒê¸° (í™”ì‚´í‘œ ë„¤ë¹„ê²Œì´ì…˜)

### v1.0 â€” Phase 1 MVP (2026-02-25~27)
- ì‚¬ìš©ì ì¸ì¦ (ë¡œê·¸ì¸/íšŒì›ê°€ì…)
- ê°€êµ¬ ì˜¨ë³´ë”© (SECURITY DEFINER RPC)
- ê³„ì¢Œ/ì¹´í…Œê³ ë¦¬ CRUD
- ë³µì‹ë¶€ê¸° ê±°ë˜ ì…ë ¥ (RPC íŠ¸ëœì­ì…˜)
- ëŒ€ì‹œë³´ë“œ (ìš”ì•½ ì§€í‘œ + ì°¨íŠ¸)
- ìë™ì´ì²´ ê·œì¹™/í™•ì •
- ì˜ˆì‚° ì„¤ì •/ë¹„êµ
- RLS ì •ì±… ì „ë©´ ì¬ì„¤ì •

---

## 9. [Reviewer] ìµœì¢… íŒì •

### Overall Score: **B+ (ì–‘í˜¸ â€” ì¡°ê±´ë¶€ ìŠ¹ì¸)**

| ì˜ì—­ | ì ìˆ˜ | ì½”ë©˜íŠ¸ |
|------|------|--------|
| ì•ˆì •ì„± | â­â­â­ | `useEffect` ì˜ì¡´ì„± ëˆ„ë½, ìë™ì´ì²´ ì›ìì„± ë¯¸ë³´ì¥ |
| íš¨ìœ¨ì„± | â­â­â­â­ | React Query ìºì‹± ì ìš©, ë¶ˆí•„ìš”í•œ ë¦¬ë Œë” ì¼ë¶€ ì¡´ì¬ |
| ìœ ì§€ë³´ìˆ˜ | â­â­â­ | íƒ€ì… ë¶„ì‚°, ëª¨ë‹¬ ì½”ë“œ ë°˜ë³µ, `any` ë‚¨ìš© |
| ê¸°íš ì •í•©ì„± | â­â­â­â­â­ | PRD ëŒ€ë¹„ í•µì‹¬ MVP ì™„ì„±ë„ ë†’ìŒ |
| ë””ìì¸ | â­â­â­â­ | ë¯¸ë‹ˆë©€+ê¸°ëŠ¥ì , ë°˜ì‘í˜• ì§€ì› |

> **[Verdict]**: Critical 6ê±´ ìˆ˜ì • í›„ **Phase 2 ì§„ì… ìŠ¹ì¸** ê°€ëŠ¥.
> íŠ¹íˆ C-2/C-3/C-4 (`householdId` ì˜ì¡´ì„± ëˆ„ë½)ëŠ” **ë¡œê·¸ì¸ ì§í›„ ë¹ˆ í™”ë©´** ì›ì¸ì´ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìµœìš°ì„  ìˆ˜ì • ëŒ€ìƒ.

---

## 10. ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ ë¡œë“œë§µ

| ìš°ì„ ìˆœìœ„ | ì‘ì—… | ë‹´ë‹¹ |
|----------|------|------|
| ğŸ”´ ì¦‰ì‹œ | Critical 6ê±´ ë²„ê·¸ ìˆ˜ì • | Frontend, Backend |
| ğŸŸ¡ ë‹¨ê¸° | `types/` ê³µí†µ íƒ€ì… ë¶„ë¦¬ + Toast ì•Œë¦¼ ë„ì… | Frontend |
| ğŸŸ¡ ë‹¨ê¸° | ìë™ì´ì²´ í™•ì •ì„ RPCë¡œ ì›ìí™” | Backend, DB |
| ğŸ”µ ì¤‘ê¸° | Phase 2: ëŒ€ì¶œ ì‹œìŠ¤í…œ (ìŠ¤í‚¤ë§ˆ 0003 ê¸°ë°˜) | All |
| ğŸ”µ ì¤‘ê¸° | Phase 2: íˆ¬ì ì‹œìŠ¤í…œ | All |
| â¬œ ì¥ê¸° | CSV ê°€ì ¸ì˜¤ê¸°, íƒœê·¸ ê´€ë¦¬, ì›” ë§ˆê° | All |
